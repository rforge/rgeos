<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>RGEOS Utility Functions — RGEOS Utility Functions • rgeos</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="RGEOS Utility Functions — RGEOS Utility Functions" />
<meta property="og:description" content="Utility functions for the RGEOS package" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgeos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5-7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>RGEOS Utility Functions</h1>
    
    <div class="hidden name"><code>utility-functions.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Utility functions for the RGEOS package</p>
    </div>

    <pre class="usage"><span class='fu'>getScale</span><span class='op'>(</span><span class='op'>)</span>
  <span class='fu'>setScale</span><span class='op'>(</span>scale<span class='op'>=</span><span class='fl'>100000000</span><span class='op'>)</span>
  <span class='fu'>translate</span><span class='op'>(</span><span class='va'>spgeom</span><span class='op'>)</span>
  <span class='fu'>checkP4S</span><span class='op'>(</span><span class='va'>p4s</span><span class='op'>)</span>
        <span class='fu'>version_GEOS</span><span class='op'>(</span>runtime <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
        <span class='fu'>rgeos_extSoftVersion</span><span class='op'>(</span><span class='op'>)</span>
        <span class='fu'>version_GEOS0</span><span class='op'>(</span><span class='op'>)</span>
        <span class='fu'>set_RGEOS_polyThreshold</span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span>
        <span class='fu'>get_RGEOS_polyThreshold</span><span class='op'>(</span><span class='op'>)</span>
        <span class='fu'>set_RGEOS_warnSlivers</span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span>
        <span class='fu'>get_RGEOS_warnSlivers</span><span class='op'>(</span><span class='op'>)</span>
        <span class='fu'>set_RGEOS_dropSlivers</span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span>
        <span class='fu'>get_RGEOS_dropSlivers</span><span class='op'>(</span><span class='op'>)</span>
        <span class='fu'>get_RGEOS_CheckValidity</span><span class='op'>(</span><span class='op'>)</span>
        <span class='fu'>set_RGEOS_CheckValidity</span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>scale</th>
      <td><p>Numeric value determining the precision of translated geometries</p></td>
    </tr>
    <tr>
      <th>spgeom</th>
      <td><p>sp object as defined in package sp</p></td>
    </tr>
    <tr>
      <th>p4s</th>
      <td><p>Either a character string or an object of class <code>CRS</code></p></td>
    </tr>
    <tr>
      <th>runtime</th>
      <td><p>default TRUE; if FALSE, installation GEOS version</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>the value to be passed to an RGEOS option in its environment</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>getScale and setScale are used to get and set the scale option in the rgeos environment. This option is used to determine the precision of coordinates when translating to and from GEOS C objects. Precision is defined as 1 / scale. The final example is a use case reported by Mao-Gui Hu, who has also made the objects available, where the default scale defeats an intended line intersection operation; changing the scale temporarily resoves the issue.</p>
<p>In order to permit polygon slivers to be detected, reported and dropped, the user may set a numeric value for polyThreshold and logical values for warnSlivers and dropSlivers. By default, the threshold is 0.0, and warning and dropping are FALSE. To detect slivers, the threshold may be set to a small value and warnSlivers set to TRUE. To drop slivers from returned Polygons and Polygon objects, set dropSlivers to TRUE for a non-zero threshold.</p>
<p>translate is a testing function which translates the sp object into a GEOS C object and then back into an sp object and is used extensively in the translation unit tests. In all cases it is expected that <code>spgeom</code> and <code>translate(spgeom)</code> should be identical.</p>
<p>checkP4S is a validation function for proj4strings and is used in testing.</p>
<p>version_GEOS returns the full runtime version string, and version_GEOS0 only the GEOS version number.
set_RGEOS_CheckValidity takes an integer 0:2, 0L is no operation, 1L is check validity, and 2L is check and if invalid try to repair with a zero width buffer.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Roger Bivand &amp; Colin Rundel</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>  <span class='fu'><a href='RGEOS WKT Functions.html'>readWKT</a></span><span class='op'>(</span><span class='st'>"POINT(1.5 1.5)"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; SpatialPoints:
#&gt;     x   y
#&gt; 1 1.5 1.5
#&gt; Coordinate Reference System (CRS) arguments: NA </div><div class='input'>
  <span class='co'># With scale set to 1, the following point will be rounded</span>
  <span class='fu'>setScale</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>
  <span class='fu'><a href='RGEOS WKT Functions.html'>readWKT</a></span><span class='op'>(</span><span class='st'>"POINT(1.5 1.5)"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; SpatialPoints:
#&gt;   x y
#&gt; 1 2 2
#&gt; Coordinate Reference System (CRS) arguments: NA </div><div class='input'>  
  <span class='fu'>setScale</span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
  <span class='fu'><a href='RGEOS WKT Functions.html'>readWKT</a></span><span class='op'>(</span><span class='st'>"POINT(1.5 1.5)"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; SpatialPoints:
#&gt;     x   y
#&gt; 1 1.5 1.5
#&gt; Coordinate Reference System (CRS) arguments: NA </div><div class='input'>  
  <span class='fu'>getScale</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 10</div><div class='input'>  <span class='co'># Set scale option back to default</span>
  <span class='fu'>setScale</span><span class='op'>(</span><span class='op'>)</span>
  
  
  
  <span class='co'># scale option only affect objects when they are translated through rgeos</span>
  <span class='fu'>setScale</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/edzer/sp/'>sp</a></span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/pkg/sp/man/SpatialPoints.html'>SpatialPoints</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='fl'>1.5</span>,y<span class='op'>=</span><span class='fl'>1.5</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; SpatialPoints:
#&gt;        x   y
#&gt; [1,] 1.5 1.5
#&gt; Coordinate Reference System (CRS) arguments: NA </div><div class='input'>  <span class='fu'>translate</span><span class='op'>(</span> <span class='fu'><a href='https://rdrr.io/pkg/sp/man/SpatialPoints.html'>SpatialPoints</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='fl'>1.5</span>,y<span class='op'>=</span><span class='fl'>1.5</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>)</span>
</div><div class='output co'>#&gt; SpatialPoints:
#&gt;   x y
#&gt; 1 2 2
#&gt; Coordinate Reference System (CRS) arguments: NA </div><div class='input'>  
  <span class='fu'>setScale</span><span class='op'>(</span><span class='op'>)</span>

        <span class='co'># added example of scale impact on intersection 120905</span>
<span class='va'>sline1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='RGEOS WKT Functions.html'>readWKT</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/readLines.html'>readLines</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"wkts/sline1.wkt"</span>, package<span class='op'>=</span><span class='st'>"rgeos"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>sline2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='RGEOS WKT Functions.html'>readWKT</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/readLines.html'>readLines</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"wkts/sline2.wkt"</span>, package<span class='op'>=</span><span class='st'>"rgeos"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>rslt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gIntersection.html'>gIntersection</a></span><span class='op'>(</span><span class='va'>sline1</span>, <span class='va'>sline2</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span><span class='op'>(</span><span class='va'>rslt</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "SpatialCollections"
#&gt; attr(,"package")
#&gt; [1] "rgeos"</div><div class='input'><span class='fu'>getScale</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1e+08</div><div class='input'><span class='fu'>setScale</span><span class='op'>(</span><span class='fl'>1e+6</span><span class='op'>)</span>
<span class='va'>rslt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gIntersection.html'>gIntersection</a></span><span class='op'>(</span><span class='va'>sline1</span>, <span class='va'>sline2</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span><span class='op'>(</span><span class='va'>rslt</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "SpatialLines"
#&gt; attr(,"package")
#&gt; [1] "sp"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>rslt</span>, <span class='st'>"lines"</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"Lines"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 63</div><div class='input'><span class='va'>rslt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gUnion.html'>gLineMerge</a></span><span class='op'>(</span><span class='va'>rslt</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>rslt</span>, <span class='st'>"lines"</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"Lines"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='fu'>setScale</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'>get_RGEOS_dropSlivers</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'>get_RGEOS_warnSlivers</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>get_RGEOS_polyThreshold</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 0</div><div class='input'><span class='co'># Robert Hijmans difficult intersection case</span>
<span class='fu'><a href='https://rdrr.io/r/base/load.html'>load</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"test_cases/polys.RData"</span>, package<span class='op'>=</span><span class='st'>"rgeos"</span><span class='op'>)</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gIntersection.html'>gIntersection</a></span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; output subgeometry 1, row.name: 109 294
#&gt; subsubgeometry 0: Polygon
#&gt; subsubgeometry 1: Polygon
#&gt; subsubgeometry 2: LineString
#&gt; Error in RGEOSBinTopoFunc(spgeom1, spgeom2, byid, id, drop_lower_td, unaryUnion_if_byid_false,  : 
#&gt;   Geometry collections may not contain other geometry collections</div><div class='input'><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gIntersection.html'>gIntersection</a></span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span>, drop_lower_td<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>res</span>, <span class='st'>"polygons"</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>p</span>, <span class='st'>"Polygons"</span><span class='op'>)</span>, <span class='va'>slot</span>, <span class='st'>"area"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] 3.135474e-08 3.926317e-07 5.350546e-07 9.982584e-07 1.434509e-06
#&gt;  [6] 2.087862e-06 1.212778e+03 3.117775e+05 1.424050e+06 1.700212e+06
#&gt; [11] 7.269743e+06</div><div class='input'><span class='va'>oT</span> <span class='op'>&lt;-</span> <span class='fu'>get_RGEOS_polyThreshold</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>oW</span> <span class='op'>&lt;-</span> <span class='fu'>get_RGEOS_warnSlivers</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>oD</span> <span class='op'>&lt;-</span> <span class='fu'>get_RGEOS_dropSlivers</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'>set_RGEOS_polyThreshold</span><span class='op'>(</span><span class='fl'>1e-3</span><span class='op'>)</span>
<span class='fu'>set_RGEOS_warnSlivers</span><span class='op'>(</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>res1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gIntersection.html'>gIntersection</a></span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span>, drop_lower_td<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: 1: MultiPolygon object 109 294 area 1.02961e-06</span></div><div class='output co'>#&gt; <span class='warning'>Warning: 2: MultiPolygon object 202 294 area 3.915e-06</span></div><div class='output co'>#&gt; <span class='warning'>Warning: 3: Polygon object 208 294 area 5.35055e-07</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 0 of object 109 294 area 3.13547e-08</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 1 of object 109 294 area 9.98258e-07</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 0 of object 202 294 area 2.08786e-06</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 1 of object 202 294 area 1.43451e-06</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 2 of object 202 294 area 3.92632e-07</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 0 of object 208 294 area 5.35055e-07</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>res</span>, <span class='st'>"polygons"</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>p</span>, <span class='st'>"Polygons"</span><span class='op'>)</span>, <span class='va'>slot</span>, <span class='st'>"area"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] 3.135474e-08 3.926317e-07 5.350546e-07 9.982584e-07 1.434509e-06
#&gt;  [6] 2.087862e-06 1.212778e+03 3.117775e+05 1.424050e+06 1.700212e+06
#&gt; [11] 7.269743e+06</div><div class='input'><span class='fu'>set_RGEOS_dropSlivers</span><span class='op'>(</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>res2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gIntersection.html'>gIntersection</a></span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span>, drop_lower_td<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: 1: MultiPolygon object 109 294 area 1.02961e-06</span></div><div class='output co'>#&gt; <span class='warning'>Warning: 2: MultiPolygon object 202 294 area 3.915e-06</span></div><div class='output co'>#&gt; <span class='warning'>Warning: 3: Polygon object 208 294 area 5.35055e-07</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>res</span>, <span class='st'>"polygons"</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>p</span>, <span class='st'>"Polygons"</span><span class='op'>)</span>, <span class='va'>slot</span>, <span class='st'>"area"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] 3.135474e-08 3.926317e-07 5.350546e-07 9.982584e-07 1.434509e-06
#&gt;  [6] 2.087862e-06 1.212778e+03 3.117775e+05 1.424050e+06 1.700212e+06
#&gt; [11] 7.269743e+06</div><div class='input'><span class='fu'>set_RGEOS_dropSlivers</span><span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>oo</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gUnion.html'>gUnaryUnion</a></span><span class='op'>(</span><span class='va'>res1</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"1"</span>, <span class='fl'>3</span><span class='op'>)</span>, <span class='st'>"2"</span>, <span class='st'>"3"</span>, <span class='st'>"4"</span><span class='op'>)</span>, checkValidity<span class='op'>=</span><span class='fl'>2L</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Too few points in geometry component at or near point 3001878.09776633 2416352.9858511998</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Too few points in geometry component at or near point 3001878.09776633 2416352.9858511998</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Too few points in geometry component at or near point 3000956.1033775401 2413481.790976</span></div><div class='output co'>#&gt; <span class='message'>res1 is invalid</span></div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has no comment</span></div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has no comment</span></div><div class='output co'>#&gt; <span class='warning'>Warning: 1: Polygon object 109 294 area 9.67871e-07</span></div><div class='output co'>#&gt; <span class='warning'>Warning: 2: Polygon object 202 294 area 2.02431e-06</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 0 of object 109 294 area 9.67871e-07</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 0 of object 202 294 area 2.02431e-06</span></div><div class='output co'>#&gt; <span class='message'>Attempting to make res1 valid by zero-width buffering</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 1 of object 1 area 2.99218e-06</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>oo</span>, <span class='st'>"polygons"</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>p</span>, <span class='st'>"Polygons"</span><span class='op'>)</span>, <span class='va'>slot</span>, <span class='st'>"area"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1.700212e+06 2.992178e-06 7.269743e+06 3.117775e+05 1.212778e+03
#&gt; [6] 1.424050e+06</div><div class='input'><span class='va'>ooo</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gIntersection.html'>gIntersection</a></span><span class='op'>(</span><span class='va'>b</span>, <span class='va'>oo</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span>, checkValidity<span class='op'>=</span><span class='fl'>2L</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 1 of object 294 1 area 2.99216e-06</span></div><div class='input'><span class='fu'><a href='gArea.html'>gArea</a></span><span class='op'>(</span><span class='va'>ooo</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has no comment</span></div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has no comment</span></div><div class='output co'>#&gt;     294 1     294 2     294 3     294 4 
#&gt; 1700211.9 7269743.1  312990.3 1424050.3 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>ooo</span>, <span class='st'>"polygons"</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>p</span>, <span class='st'>"Polygons"</span><span class='op'>)</span>, <span class='va'>slot</span>, <span class='st'>"area"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1.700212e+06 2.992165e-06 7.269743e+06 3.117775e+05 1.212778e+03
#&gt; [6] 1.424050e+06</div><div class='input'><span class='fu'>set_RGEOS_dropSlivers</span><span class='op'>(</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>ooo</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gIntersection.html'>gIntersection</a></span><span class='op'>(</span><span class='va'>b</span>, <span class='va'>oo</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span>, checkValidity<span class='op'>=</span><span class='fl'>2L</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Exterior ring 1 of object 294 1 area 2.99216e-06</span></div><div class='input'><span class='fu'><a href='gArea.html'>gArea</a></span><span class='op'>(</span><span class='va'>ooo</span>, byid<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has no comment</span></div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has no comment</span></div><div class='output co'>#&gt;     294 1     294 2     294 3     294 4 
#&gt; 1700211.9 7269743.1  312990.3 1424050.3 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>ooo</span>, <span class='st'>"polygons"</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'>slot</span><span class='op'>(</span><span class='va'>p</span>, <span class='st'>"Polygons"</span><span class='op'>)</span>, <span class='va'>slot</span>, <span class='st'>"area"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1700211.935 7269743.131  311777.515    1212.778 1424050.306</div><div class='input'><span class='fu'>set_RGEOS_polyThreshold</span><span class='op'>(</span><span class='va'>oT</span><span class='op'>)</span>
<span class='fu'>set_RGEOS_warnSlivers</span><span class='op'>(</span><span class='va'>oW</span><span class='op'>)</span>
<span class='fu'>set_RGEOS_dropSlivers</span><span class='op'>(</span><span class='va'>oD</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Roger Bivand, Colin Rundel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


